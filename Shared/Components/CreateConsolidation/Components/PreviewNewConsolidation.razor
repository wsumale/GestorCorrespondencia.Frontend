<Loader Loading="loading" />

@if(consolidated!.Type == 1){
    <RadzenDataGrid Data="@consolidated!.ConsolidatedDetail" ColumnWidth="200px" AllowPaging="true" PageNumbersCount="10">
        <Columns>
            <RadzenDataGridColumn Property="PackageId" Title="Rastreo" Width="100px" />
            <RadzenDataGridColumn Title="Fecha" Width="100px">
                <Template Context="package">
                    @package.Created.ToLocalTime().ToString("dd/MM/yyyy")
                </Template>
            </RadzenDataGridColumn>
            <RadzenDataGridColumn Property="Sender" Title="Remitente" />
            <RadzenDataGridColumn Property="SenderLocation" Title="Origen" />
            <RadzenDataGridColumn Property="Addressee" Title="Destinatario" />
            <RadzenDataGridColumn Property="RecipientLocation" Title="Destino" />
        </Columns>
    </RadzenDataGrid>

    <RadzenStack>
        <RadzenButton Text="Cancelar" ButtonType="ButtonType.Button" ButtonStyle="ButtonStyle.Danger" Click="Cancel" />
        <RadzenButton Text="Enviar a correspondencia" ButtonType="ButtonType.Button" ButtonStyle="ButtonStyle.Primary" Click="SubmitAsync" />
    </RadzenStack>
}

@if (consolidated!.Type == 2)
{
    <RadzenDataGrid Data="@consolidated!.ConsolidatedDetail" ColumnWidth="200px" AllowPaging="true" PageNumbersCount="10">
        <Columns>
            <RadzenDataGridColumn Property="PackageId" Title="Rastreo" Width="100px" />
            <RadzenDataGridColumn Title="Fecha" Width="100px">
                <Template Context="package">
                    @package.Created.ToLocalTime().ToString("dd/MM/yyyy")
                </Template>
            </RadzenDataGridColumn>
            <RadzenDataGridColumn Property="Sender" Title="Remitente" />
            <RadzenDataGridColumn Property="SenderLocation" Title="Origen" />
            <RadzenDataGridColumn Property="Addressee" Title="Destinatario" />
            <RadzenDataGridColumn title="Ubicación Destino">
                <Template>
                    @consolidated.RecipientLocation
                </Template>
            </RadzenDataGridColumn>
            <RadzenDataGridColumn Property="RecipientLocation" Title="Destino" />
        </Columns>
    </RadzenDataGrid>

    <RadzenStack>
        <RadzenButton Text="Cancelar" ButtonType="ButtonType.Button" ButtonStyle="ButtonStyle.Danger" Click="Cancel" />
        <RadzenButton Text="@($"Enviar a {consolidated.RecipientLocation}")" ButtonType="ButtonType.Button" ButtonStyle="ButtonStyle.Primary" Click="SubmitAsync" />
    </RadzenStack>
}