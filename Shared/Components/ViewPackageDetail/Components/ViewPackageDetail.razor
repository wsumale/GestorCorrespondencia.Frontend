@page "/view-tracking"
@using GestorCorrespondencia.Frontend.Functionalities.Tracking.Model

<Loader Loading="@loading" />
@if(paqueteEncontrado){
    <RadzenRow class="rz-display-flex rz-flex-wrap">
        <RadzenColumn Size="7" SizeXS="12" SizeSM="12" SizeMD="12" SizeLG="7" SizeXL="7" SizeXX="7" class="order-mobile-last min-height-40vh">
            <RadzenCard class="rz-background-color-base-light card-full-height">
                <RadzenHeading Size="H3" Text="Detalle del Envío" />
                <RadzenDataGrid Data="@package.Details" TItem="PackageDetail" ShowPagingSummary="false" AllowPaging="true" PageSize="5">
                    <Columns>
                        <RadzenDataGridColumn TItem="PackageDetail" Property="Type" Title="Tipo" />
                        <RadzenDataGridColumn TItem="PackageDetail" Property="Comment" Title="Comentarios" />
                        <RadzenDataGridColumn TItem="PackageDetail" Property="Quantity" Title="Cantidad" />
                    </Columns>
                </RadzenDataGrid>
            </RadzenCard>
        </RadzenColumn>

        <RadzenColumn Size="5" Style="min-height: 40vh;">
            <RadzenCard class="rz-display-flex rz-flex-column rz-justify-content-space-between rz-background-color-base-light" Style="height: 100%;">
                <div>
                    <RadzenHeading Size="H3" Text="Información del Envío" />

                    <p class="rz-mt-2 rz-mb-2"><strong>Fecha Envío:</strong> <span class="text-morado">@package.CreatedAt</span></p>
                    <p class="rz-mt-2 rz-mb-2"><strong>Estado:</strong> <span class="text-azul-claro">@package.State</span></p>
                    <p class="rz-mt-2 rz-mb-2"><strong>Rastreo:</strong> <span class="text-rojo-brillante">@package.PackageId</span></p>

                    <p class="rz-mt-2 rz-mb-2"><strong>Remitente:</strong> <span class="text-naranja">@package.Sender</span></p>
                    <p class="rz-mt-2 rz-mb-2"><strong>Destinatario:</strong> <span class="text-morado">@package.Addressee</span></p>

                    <pre class="rz-mt-2 rz-mb-2 rz-pb-1">
                    <strong>Observaciones:</strong><br />@package.Observations
                    </pre>
                </div>
            </RadzenCard>
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow>
        <RadzenCard class="rz-mt-5 rz-background-color-base-light">
            <RadzenHeading Size="H3" Text="Historial de Cambios" />
            <RadzenDataGrid Data="@package.Log" TItem="PackageActionLog" EmptyText="Este paquete no tiene registros en la bitácora."
                            ShowPagingSummary="false" AllowPaging="true" PageSize="5">
                <Columns>
                    <RadzenDataGridColumn Property="CreatedAt" Title="Fecha" />
                    <RadzenDataGridColumn Property="PackageState" Title="Acción" />
                    <RadzenDataGridColumn Property="CreatedBy" Title="Usuario" />
                    <RadzenDataGridColumn Property="Description" Title="Descripción" />
                </Columns>
            </RadzenDataGrid>
        </RadzenCard>
    </RadzenRow>
}