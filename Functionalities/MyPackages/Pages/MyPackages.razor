@page "/paquetes/mis_paquetes"

<SessionValidator title="Mis paquetes" path="/paquetes/mis_paquetes">
    <Loader Loading="loading" />

    <div class="main-container">
        <RadzenText Text="Mis Paquetes" class="form-title" />

        <RadzenDataGrid Data="@myPackages" AllowPaging="true" PageSize="10" ColumnWidth="200px"
                        AllowRowSelectOnRowClick="true" SelectionMode="DataGridSelectionMode.Single"
                        FilterMode="FilterMode.CheckBoxList" AllowSorting="true" AllowFiltering="true"
                        ApplyFilterText="Aplicar" ClearFilterText="Limpiar" EmptyText="No hay paquetes para mostrar">
            <Columns>
                <RadzenDataGridColumn Property="PackageId" Title="Rastreo" Width="125px" />
                <RadzenDataGridColumn Property="Sender" Title="Remitente" />
                <RadzenDataGridColumn Property="SenderLocation" Title="Ubicación remitente" />
                <RadzenDataGridColumn Property="Addressee" Title="Destinatario" />
                <RadzenDataGridColumn Property="DestinationLocation" Title="Ubicación destinatario" />
                <RadzenDataGridColumn Property="Created" Title="Fecha" Width="150px" FormatString="{0:dd/MM/yyyy HH:mm}">
                    <Template Context="data">
                        @data.Created.ToLocalTime().ToString("dd/MM/yyyy HH:mm")
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn Property="State" Title="Estado" />
                <RadzenDataGridColumn Filterable="false" Sortable="false" Width="61px" >
                    <Template Context="Detail" >
                        <RadzenButton Click="@(() => CustomDialogService.OpenViewPackageAsync(Detail.PackageId))" Icon="list" ButtonStyle="ButtonStyle.Primary" Size="ButtonSize.Medium" />
                    </Template>
                </RadzenDataGridColumn>
            </Columns>
        </RadzenDataGrid>
    </div>
</SessionValidator>