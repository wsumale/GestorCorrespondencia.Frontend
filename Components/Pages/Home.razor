@page "/home"

@using GestorCorrespondencia.Frontend.Services
@inject LayoutService LayoutService
@using GestorCorrespondencia.Frontend.Services.Auth
@inject SesionService SesionService

<PageTitle>Home</PageTitle>

@code {
    private bool _renderizado = false;

    protected override void OnInitialized()
    {
        LayoutService.ActualizarHeader("Gestor de Correspondencia");
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_renderizado)
        {
            _renderizado = true;
            await SesionService.ValidarSesionONavegarAsync();
        }
    }
}